# Chronos Markets - Decentralized Prediction Markets

A decentralized prediction market platform built on the Linera blockchain protocol, enabling users to trade on real-world events with speed and transparency.

## ğŸ† Linera Buildathon Submission

### Quick Start (For Judges)

```bash
# Run with Docker Compose
docker compose up --force-recreate
```

Then access the application at **http://localhost:5173**

This will:
1. Start a local Linera network with faucet
2. Build and deploy the smart contracts
3. Launch the React frontend

### Port Structure
- `5173`: Frontend (React + Vite)
- `8080`: Linera Faucet
- `9001`: Linera shard proxy
- `13001`: Linera shard

---

## ğŸš€ Features

- **AMM-Based Pricing**: Automated Market Maker using constant product formula (k = x * y)
- **Real-time Trading**: Instant market creation and share trading
- **Modern UI**: Beautiful, responsive interface built with React 19 + TailwindCSS
- **Blockchain-Powered**: Secured by Linera protocol's microchain architecture
- **Testnet Ready**: Deploy directly to Linera Testnet

## ğŸ“‹ Prerequisites

- Node.js 18+ and npm
- Rust 1.86+ and Cargo (for smart contracts)
- Linera CLI v0.15.6+

### Installing Linera CLI

```bash
# Install from crates.io
cargo install --locked linera-storage-service@0.15.6
cargo install --locked linera-service@0.15.6

# Add wasm target
rustup target add wasm32-unknown-unknown
```

## ğŸƒ Quick Start

### 1. Install Dependencies

```bash
npm install
```

### 2. Start Development Server

```bash
npm run dev
```

The frontend will be available at `http://localhost:3007`

### 3. Deploy to Testnet

```bash
# Make the script executable
chmod +x deploy-testnet.sh

# Deploy to Linera Testnet
./deploy-testnet.sh
```

This will:
- Create a wallet on Linera Testnet
- Claim a microchain from the faucet
- Build and deploy the smart contracts
- Save configuration to `.env.local`

### 4. Local Development (Alternative)

```bash
# Start local devnet and deploy
./quick-start.sh
```

## ğŸŒ Testnet Deployment

### Manual Deployment Steps

```bash
# 1. Initialize wallet with testnet faucet
linera wallet init --faucet https://faucet.testnet-conway.linera.net
linera wallet request-chain --faucet https://faucet.testnet-conway.linera.net

# 2. Check your balance
linera sync
linera query-balance

# 3. Build contracts
cd linera-app
cargo build --release --target wasm32-unknown-unknown

# 4. Deploy application
linera publish-and-create \
  target/wasm32-unknown-unknown/release/chronos_market_contract.wasm \
  target/wasm32-unknown-unknown/release/chronos_market_service.wasm \
  --json-argument "null"

# 5. Start the node service
linera service --port 8080
```

## ğŸ“ Project Structure

```
chronos-markets1/
â”œâ”€â”€ components/          # React components
â”‚   â”œâ”€â”€ HomePage.tsx
â”‚   â”œâ”€â”€ MarketsPage.tsx
â”‚   â”œâ”€â”€ MarketPage.tsx
â”‚   â”œâ”€â”€ CreateMarketPage.tsx
â”‚   â”œâ”€â”€ PortfolioPage.tsx
â”‚   â””â”€â”€ AgentHubPage.tsx
â”œâ”€â”€ contexts/           # React contexts
â”‚   â””â”€â”€ WalletContext.tsx
â”œâ”€â”€ services/           # API services
â”‚   â”œâ”€â”€ lineraClient.ts    # Linera SDK integration
â”‚   â”œâ”€â”€ chronosContract.ts # Contract operations
â”‚   â””â”€â”€ mockApi.ts         # Mock data
â”œâ”€â”€ linera-app/         # Smart contracts
â”‚   â”œâ”€â”€ contract/       # Core contract logic
â”‚   â”œâ”€â”€ service/        # GraphQL service
â”‚   â””â”€â”€ src/           # Shared types
â”œâ”€â”€ deploy-testnet.sh   # Testnet deployment script
â””â”€â”€ quick-start.sh      # Local devnet setup
```

## ğŸ”§ Configuration

### Environment Variables

Create a `.env.local` file (auto-generated by deploy scripts):

```env
VITE_LINERA_CHAIN_ID=your_chain_id
VITE_LINERA_APP_ID=your_application_id
VITE_USE_TESTNET=true
VITE_LINERA_NODE_URL=http://localhost:8080
```

## ğŸ› ï¸ Development

### Available Scripts

```bash
npm run dev          # Start dev server (port 3007)
npm run build        # Build for production
npm run preview      # Preview production build
```

### Smart Contract Development

```bash
cd linera-app
cargo build --release --target wasm32-unknown-unknown
cargo test
```

## ğŸ¯ Core Operations

### Creating a Market

Markets are created with:
- Question (e.g., "Will Bitcoin reach $100k in 2025?")
- End date/time
- Initial liquidity

### Trading Shares

- Buy YES or NO shares
- AMM calculates fair pricing using constant product formula
- Instant settlement on blockchain

### Resolving Markets

- Markets resolve at end time
- Winners claim proportional winnings
- Automated through smart contracts

## ğŸ”— Technology Stack

- **Frontend**: React 19, TypeScript, TailwindCSS, Vite
- **Blockchain**: Linera Protocol v0.15.6
- **Smart Contracts**: Rust, WebAssembly
- **Client SDK**: @linera/client
- **API**: GraphQL

## ğŸ“š Documentation

- [Linera Documentation](https://linera.dev/)
- [Integration Guide](./INTEGRATION_GUIDE.md)
- [Testing Guide](./TESTING_GUIDE.md)

## ğŸ“„ License

MIT License - see LICENSE file for details

## ğŸ¤ Contributing

Contributions welcome! Please read our contributing guidelines first.

## ğŸ“ Support

For issues and questions, please open a GitHub issue.

---

Built with â¤ï¸ for the decentralized future
